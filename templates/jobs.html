{% extends "base.html" %}
{% load static %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/jobs.css' %}">
{% endblock %}

{% block titulo %}Vagas{% endblock %}

{% block titulo_body %}Arq - Vagas{% endblock %}

{% block conteudo %}

    <div class="action-link create">
        <a href="{% url 'pagina_jobs_creat_job' %}">Criar vaga</a>
    </div>

    <table>
        <caption>Lista de vagas</caption>
        <tr>
            <th class="center">Usuário</th>
            <th class="center">Nome da vaga</th>
            <th class="center">Empresa</th>
            <th class="center">Salário</th>
            <th class="center">Cidade</th>
            <th class="center">Quantidade de vagas</th>
            <th class="center">Ações</th>
        </tr>

        {% for job in jobs %}
            <tr>
                <td class="center">{% if job.user %}{{ job.user }}{% else %}Usuário não cadastrado{% endif %}</td>
                <td class="center">{% if job.nome %}{{ job.nome }}{% else %}N/A{% endif %}</td>
                <td class="center">{% if job.empresa %}{{ job.empresa }}{% else %}N/A{% endif %}</td>
                <td class="center">{% if job.salario %}R$ {{ job.salario }}{% else %}N/A{% endif %}</td>
                <td class="center">{% if job.cidade %}{{ job.cidade }}{% else %}N/A{% endif %}</td>
                <td class="center">{% if job.qtd_jobs %}{{ job.qtd_jobs }}{% else %}N/A{% endif %}</td>
                <td>
                    <div style="white-space: nowrap;">
                        <a class="action-link view" href="{% url 'ver_job' job.id %}" title="Ver detalhes da vaga">Ver
                            vaga</a>
                        {% if job.user == user or user.is_staff %}
                            <a class="action-link update" href="{% url 'update_job' job.id %}"
                               title="Modificar esta vaga">Modificar vaga</a>
                            <a class="action-link delete" href="{% url 'delete_job' job.id %}"
                               title="Deletar esta vaga">Deletar vaga</a>
                        {% endif %}
                    </div>
                </td>

            </tr>
        {% endfor %}


    </table>
{% endblock %}
